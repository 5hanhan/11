window.__require=function e(t,n,i){function c(s,a){if(!n[s]){if(!t[s]){var l=s.split("/");if(l=l[l.length-1],!t[l]){var r="function"==typeof __require&&__require;if(!a&&r)return r(l,!0);if(o)return o(l,!0);throw new Error("Cannot find module '"+s+"'")}s=l}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){return c(t[s][1][e]||e)},u,u.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof __require&&__require,s=0;s<i.length;s++)c(i[s]);return c}({PhysicsMangager:[function(e,t,n){"use strict";cc._RF.push(t,"b44c3OpMCRHi7/2btXaKPAW","PhysicsMangager"),cc.Class({extends:cc.Component,properties:{active:{default:!0,tooltip:"\u662f\u5426\u542f\u7528\u7269\u7406\u5f15\u64ce"},aabb:{default:!0,tooltip:"\u662f\u5426\u663e\u793a\u5305\u56f4\u76d2"},pair:{default:!0},centerOfMass:{default:!0,tooltip:"\u662f\u5426\u663e\u793a\u4e2d\u5fc3\u70b9"},joint:{default:!0,tooltip:"\u662f\u5426\u663e\u793a\u5173\u8282\u8fde\u63a5\u7ebf"},shape:{default:!0,tooltip:"\u662f\u5426\u586b\u5145\u5f62\u72b6"},mouseJoint:{default:!1,tooltip:"\u662f\u5426\u5f00\u542f\u9f20\u6807\u5173\u8282\uff0c\u53ef\u4ee5\u62d6\u52a8\u52a8\u6001\u521a\u4f53"},gravity:{default:cc.v2(0,-960),tooltip:"\u91cd\u529b"}},onEnable:function(){var e=cc.director.getPhysicsManager();e.enabled&&this.active&&cc.warn("The physical system is enabled\uff01"),e.enabled=this.active,this.active&&(e.gravity=this.gravity)},onDisable:function(){var e=cc.director.getPhysicsManager();e.debugDrawFlags=0,e.enabled=!1}}),cc._RF.pop()},{}],cue:[function(e,t,n){"use strict";cc._RF.push(t,"c6918TbxQ1Dgo63DBXJcWVx","cue"),cc.Class({extends:cc.Component,properties:{cue:cc.Node},start:function(){cc.Canvas.instance.node.on(cc.Node.EventType.MOUSE_MOVE,this.onMouseMove,this),cc.Canvas.instance.node.on(cc.Node.EventType.MOUSE_DOWN,this.onMouseDown,this),cc.Canvas.instance.node.on(cc.Node.EventType.MOUSE_UP,this.onMouseUp,this),cc.Canvas.instance.node.on("wball-sleep",this.onwballSleep,this)},onMouseDown:function(e){255==this.node.opacity&&(this._mouseDown=!0,this.cue.runAction(cc.repeatForever(cc.moveBy(1,cc.v2(-50,0)))))},onMouseMove:function(e){if(!this._mouseDown&&255==this.node.opacity){var t=e.getLocation();this._mousePosition=t;var n=(t=this.node.parent.convertToNodeSpaceAR(t)).signAngle(cc.v2(-1,0));n=cc.misc.radiansToDegrees(n),this.node.angle=-n}},onMouseUp:function(e){var t=this;if(255==this.node.opacity){var n=this.cue.x-182;this.cue.stopAllActions(),this.cue.runAction(cc.sequence(cc.moveTo(.1,cc.v2(-182,0)).easing(cc.easeSineOut()),cc.callFunc(function(){t._mouseDown=!1;var e=new cc.Event.EventCustom("cue",!0);e.force=n,e.cue=t._mousePosition,t.node.dispatchEvent(e),t.node.opacity=0})))}},onwballSleep:function(){this.node.opacity=255}}),cc._RF.pop()},{}],table:[function(e,t,n){"use strict";cc._RF.push(t,"5a973AUYyJBlbsasRSfQ32i","table"),cc.Class({extends:cc.Component,properties:{redBalls:cc.Prefab,wballPrefab:cc.Prefab,_ballNum:10,winUI:cc.Node,startUI:cc.Node,endUI:cc.Node,gameUI:cc.Node,ballLabel:cc.Label},start:function(){var e=this;this.node.on("wball",function(t){setTimeout(function(){e.resetWhiteBall()},500)})},resetTable:function(){this.node.removeAllChildren(!0),this.resetRedBalls(),this.resetWhiteBall(),this._ballNum=10,this.winUI.active=!1,this.startUI.active=!1,this.endUI.active=!1,this.gameUI.active=!0,this.ballLabel.string="\u5269\u4f59"+this._ballNum+"\u7403"},resetWhiteBall:function(){cc.instantiate(this.wballPrefab).parent=this.node},resetRedBalls:function(){cc.instantiate(this.redBalls).parent=this.node},lose:function(){this.gameUI.active=!1,this.endUI.active=!0},onBeginContact:function(e,t,n){1===t.tag&&("wball"===n.node.name?this.node.emit("wball",n.node):(this._ballNum--,this.ballLabel.string="\u5269\u4f59"+this._ballNum+"\u7403",this._ballNum<=0&&(this.gameUI.active=!1,this.winUI.active=!0)),n.node.removeFromParent(!0))}}),cc._RF.pop()},{}],wball:[function(e,t,n){"use strict";cc._RF.push(t,"2c1a4IIYC5BiK8Ox32RToHD","wball"),cc.Class({extends:cc.Component,properties:{},start:function(){this.node.on("cue",this.onCue,this),this._sleep=!0},onCue:function(e){if(this&&this.node.parent){this._sleep=!1;var t=this.node.parent.convertToNodeSpaceAR(e.cue);t=(t=t.sub(this.node.position)).normalize(),this.node.getComponent(cc.RigidBody).linearVelocity=t.mul(-Math.pow(1.016,Math.abs(e.force)))}},update:function(e){this.node.getComponent(cc.RigidBody).awake||this._sleep||(this._sleep=!0,cc.Canvas.instance.node.emit("wball-sleep"))}}),cc._RF.pop()},{}]},{},["PhysicsMangager","cue","table","wball"]);